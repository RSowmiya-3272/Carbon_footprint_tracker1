<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyCarbon ‚Äì Waste Sorter Challenge</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <style>
        /* --- Global Variables --- */
        :root {
            --bg-dark: #0B132B;
            --accent-green: #7DF9A0;
            --text-light: #E0E0E0;
            --card-bg: #1C2541;
            --font-family: 'Inter', sans-serif;
            --recycle-blue: #3498db;
            --compost-brown: #a0522d;
            --landfill-red: #e74c3c;
            --success-green: #2ecc71;
        }

        /* --- Reset and Base Styles --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-dark);
            color: var(--text-light);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- Game Container --- */
        .game-container {
            width: 95%;
            max-width: 900px;
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.8s ease-out;
            text-align: center;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Game Header and Stats --- */
        .game-header h1 {
            color: var(--accent-green);
            font-size: 2.5rem;
            margin-bottom: 5px;
            text-shadow: 0 0 5px rgba(125, 249, 160, 0.7);
        }
        
        .stats-bar {
            display: flex;
            justify-content: space-around;
            background-color: var(--bg-dark);
            padding: 15px 10px;
            border-radius: 10px;
            box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.5);
            margin: 20px 0 30px 0;
            font-size: 1.2rem;
        }
        
        .stat-value {
            color: var(--accent-green);
            font-weight: 700;
        }
        
        #timer-display {
            color: var(--landfill-red);
        }

        /* --- Item Display Area --- */
        #item-display-area {
            min-height: 180px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #081029;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 2px solid #384260;
            position: relative;
        }

        #current-item-name {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 15px;
        }

        #current-item-icon {
            font-size: 3rem;
            animation: popInItem 0.4s ease-out;
        }
        
        @keyframes popInItem {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }
        
        /* --- Bin/Action Area --- */
        .bins-container {
            display: flex;
            justify-content: space-around;
            gap: 15px;
        }

        .bin {
            flex: 1;
            padding: 20px 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 2px solid transparent;
        }

        .bin i {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .bin h3 {
            font-size: 1.1rem;
        }

        /* Bin Colors */
        #bin-recycle {
            background-color: var(--recycle-blue);
            color: var(--bg-dark);
        }
        #bin-compost {
            background-color: var(--compost-brown);
            color: var(--text-light);
        }
        #bin-landfill {
            background-color: var(--landfill-red);
            color: var(--text-light);
        }

        .bin:hover {
            opacity: 0.9;
            transform: translateY(-5px);
            border-color: var(--accent-green);
        }
        
        /* --- Game Over Screen --- */
        #game-over-screen {
            background-color: var(--bg-dark);
            padding: 40px;
            border-radius: 10px;
            margin-top: 30px;
            box-shadow: 0 0 20px var(--accent-green);
            display: none;
        }

        #game-over-screen h2 {
            color: var(--accent-green);
            margin-bottom: 15px;
        }
        
        .btn-restart {
            padding: 12px 25px;
            background-color: var(--accent-green);
            color: var(--bg-dark);
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: 20px;
        }

        /* --- Feedback animation --- */
        @keyframes correctFeedback {
            0% { background-color: var(--success-green); }
            50% { background-color: var(--card-bg); }
            100% { background-color: var(--card-bg); }
        }
        
        .feedback-correct {
            animation: correctFeedback 0.5s ease-out;
        }
        
        /* --- Mobile Responsiveness --- */
        @media (max-width: 600px) {
            .game-container {
                padding: 15px;
            }
            .game-header h1 {
                font-size: 1.8rem;
            }
            .stats-bar {
                font-size: 1rem;
                padding: 10px;
            }
            .bins-container {
                flex-direction: column;
            }
            .bin {
                padding: 15px;
            }
            .bin i {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    
    <div class="game-container">
        <div class="game-header">
            <h1><i class="fas fa-recycle"></i> Waste Sorter Challenge</h1>
            <p>Sort items into the correct bin before time runs out! Maximize your score!</p>
        </div>

        <div class="stats-bar">
            <div>Score: <span class="stat-value" id="score-display">0</span></div>
            <div>Time Left: <span class="stat-value" id="timer-display">30</span>s</div>
            <div>Mistakes: <span class="stat-value" id="mistakes-display">0</span>/3</div>
        </div>
        
        <div id="item-display-area">
            <p id="current-item-name">Click Start to Play</p>
            <p id="current-item-icon">‚ùì</p>
            <button id="start-button" class="btn-restart" onclick="startGame()">Start Challenge</button>
        </div>
        
        <div class="bins-container" id="bins-container" style="display: none;">
            
            <div class="bin" id="bin-recycle" data-type="Recycle">
                <i class="fas fa-box"></i>
                <h3>Recycle</h3>
            </div>
            
            <div class="bin" id="bin-compost" data-type="Compost">
                <i class="fas fa-leaf"></i>
                <h3>Compost</h3>
            </div>
            
            <div class="bin" id="bin-landfill" data-type="Landfill">
                <i class="fas fa-dumpster-fire"></i>
                <h3>Landfill</h3>
            </div>
            
        </div>
        
        <div id="game-over-screen">
            <h2>Time's Up! Game Over.</h2>
            <p>Final Score: <span id="final-score">0</span></p>
            <button class="btn-restart" onclick="startGame()">Play Again</button>
        </div>

    </div>

    <script>
        // --- Game Data ---
        const ITEMS = [
            { name: "Plastic Water Bottle", icon: "üß¥", type: "Recycle" },
            { name: "Banana Peel", icon: "üçå", type: "Compost" },
            { name: "Used Coffee Grounds", icon: "‚òï", type: "Compost" },
            { name: "Aluminum Soda Can", icon: "ü•´", type: "Recycle" },
            { name: "Styrofoam Cup", icon: "ü•õ", type: "Landfill" },
            { name: "Junk Mail Paper", icon: "‚úâÔ∏è", type: "Recycle" },
            { name: "Leftover Cooked Meat", icon: "ü•©", type: "Landfill" },
            { name: "Paper Towel (Soiled)", icon: "ü§ß", type: "Landfill" },
            { name: "Glass Jar", icon: "üçæ", type: "Recycle" },
            { name: "Pizza Box (Greasy)", icon: "üçï", type: "Landfill" },
            { name: "Apple Core", icon: "üçé", type: "Compost" },
            { name: "Dead Houseplant", icon: "ü™¥", type: "Compost" },
            { name: "Old Toothbrush", icon: "ü™•", type: "Landfill" },
            { name: "Cardboard Box", icon: "üì¶", type: "Recycle" },
        ];
        
        // --- Game State Variables ---
        let score = 0;
        let mistakes = 0;
        let timeLeft = 30;
        let gameInterval;
        let currentItem = null;
        const MAX_MISTAKES = 3;

        // --- DOM Elements ---
        const scoreDisplay = document.getElementById('score-display');
        const timerDisplay = document.getElementById('timer-display');
        const mistakesDisplay = document.getElementById('mistakes-display');
        const itemName = document.getElementById('current-item-name');
        const itemIcon = document.getElementById('current-item-icon');
        const itemArea = document.getElementById('item-display-area');
        const binsContainer = document.getElementById('bins-container');
        const startButton = document.getElementById('start-button');
        const gameOverScreen = document.getElementById('game-over-screen');
        const finalScoreDisplay = document.getElementById('final-score');
        const bins = document.querySelectorAll('.bin');

        // --- Core Game Functions ---

        function updateDisplay() {
            scoreDisplay.textContent = score;
            timerDisplay.textContent = timeLeft;
            mistakesDisplay.textContent = `${mistakes}/${MAX_MISTAKES}`;
        }

        function generateNewItem() {
            if (timeLeft <= 0 || mistakes >= MAX_MISTAKES) return;
            
            const randomIndex = Math.floor(Math.random() * ITEMS.length);
            currentItem = ITEMS[randomIndex];
            
            itemName.textContent = currentItem.name;
            itemIcon.textContent = currentItem.icon;
            
            // Animation for new item pop-in
            itemIcon.style.animation = 'none';
            void itemIcon.offsetWidth; // Trigger reflow
            itemIcon.style.animation = 'popInItem 0.4s ease-out';
        }

        function checkAnswer(selectedBinType) {
            if (!currentItem) return;

            const isCorrect = currentItem.type === selectedBinType;
            let feedback = '';

            if (isCorrect) {
                score += 10;
                feedback = 'Correct! (+10)';
                itemArea.classList.add('feedback-correct');
                setTimeout(() => itemArea.classList.remove('feedback-correct'), 500);
            } else {
                mistakes += 1;
                feedback = 'Wrong Bin! (Mistake)';
                // Optional: Flash red background on the item area
                itemArea.style.backgroundColor = 'var(--landfill-red)';
                setTimeout(() => itemArea.style.backgroundColor = '#081029', 300);
                
                if (mistakes >= MAX_MISTAKES) {
                    return endGame();
                }
            }
            
            // Log feedback temporarily (optional)
            itemName.textContent = feedback;
            setTimeout(generateNewItem, 500); // Wait for a moment, then generate next item
            
            updateDisplay();
        }

        function startGame() {
            // Reset state
            score = 0;
            mistakes = 0;
            timeLeft = 30;
            
            // Show game elements
            gameOverScreen.style.display = 'none';
            startButton.style.display = 'none';
            binsContainer.style.display = 'flex';
            
            // Reset visuals
            itemArea.style.backgroundColor = '#081029';
            itemIcon.textContent = '‚ôªÔ∏è';
            itemName.textContent = 'Get Ready!';
            
            // Start Timer
            clearInterval(gameInterval);
            gameInterval = setInterval(() => {
                timeLeft--;
                updateDisplay();
                
                if (timeLeft <= 5) {
                    timerDisplay.style.color = 'var(--landfill-red)';
                } else {
                    timerDisplay.style.color = 'var(--accent-green)';
                }

                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
            
            // Generate first item after a brief pause
            setTimeout(generateNewItem, 1000);
        }

        function endGame() {
            clearInterval(gameInterval);
            binsContainer.style.display = 'none';
            
            finalScoreDisplay.textContent = score;
            gameOverScreen.style.display = 'block';
            
            // Final item display
            itemName.textContent = 'Challenge Complete!';
            itemIcon.textContent = mistakes >= MAX_MISTAKES ? '‚ùå' : '‚úÖ';
        }
        
        // --- Event Listeners ---

        // Listen for clicks on the bins
        bins.forEach(bin => {
            bin.addEventListener('click', (e) => {
                // Find the data-type, whether clicked on the bin itself or a child element
                const binElement = e.currentTarget; 
                const selectedBinType = binElement.dataset.type;
                
                if (currentItem && timeLeft > 0 && mistakes < MAX_MISTAKES) {
                    checkAnswer(selectedBinType);
                }
            });
        });

        // Initialize display on load
        document.addEventListener('DOMContentLoaded', updateDisplay);
        
    </script>
</body>
</html>